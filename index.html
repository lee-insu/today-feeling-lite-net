<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>오늘의 기분</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <script src="https://kit.fontawesome.com/f1def33959.js" crossorigin="anonymous"></script>


</head>
<body>
    <header>
       <div class="inner">
           <div class="header-container">
            <div class="header-logo"><a href="/"><img src="../static/img/logo.png" alt="logo" class="logo"></a></div>

           </div>
       </div>   
    </header>

    <section>
        <div class="inner">
        <div class="face-upload">
            <div class="face-upload-wrap">
            <input id="input-image" type="file" onchange = "readURL(this)" accept="image/png, image/jpeg"/>
             <img class = "upload-hand-image" src="../static/img/hand.jpg" alt="image" onclick="document.querySelector('#input-image').click()">
             <div class="face-text">&ensp;&ensp;빅데이터로 오늘의 기분을 맞춰볼게요<br>&nbsp; 이미지를 클릭해서 사진을 업로드 해주세요</div>
            </div>
            <img id="face-image"class="blah" src="#" alt="">
        </div>
        <div id="loading">
            <span class="loading-message">지금 기분을 분석하고 있습니다..</span>
        </div>
        <div class="image-result">
        <div class="push-result"></div>
        <div id="label-container"></div>
        <div class="reload-btn">
        <button class="reload" onclick="location.replace('index.html')"> 다시 시도</button>
        </div>
        </div>
        </div>
    </section>
   
    <section class="margin-top-5rem">
        <div class="inner">
            <div class="content-container">
                <div class="content-title">지금 내 기부니가 이래</div>
                <div class="content-list">
                    <ul class="emotion-list">
                        <li class="emotion-card">
                            <a href="/emotion_happy.html">
                            <div class="emotion-image"><img src="../static/img/lemon.jpg" alt="happy"></div>
                            <div class="emotion-desc">행복한 레몬</div>
                            </a>
                            <li class="emotion-card">
                                <a href="/emotion_timid.html">
                                <div class="emotion-image"><img src="../static/img/grape.jpg" alt=""></div>
                                <div class="emotion-desc">소심한 포도</div>
                                </a>
                            </li>
                            <li class="emotion-card">
                                <a href="/emotion_anger.html">
                                <div class="emotion-image"><img src="../static/img/strawberry.jpg" alt=""></div>
                                <div class="emotion-desc">짜증난 딸기</div>
                                </a>
                            </li>
                            <li class="emotion-card">
                                <a href="/emotion_sadness.html">
                                <div class="emotion-image"><img src="../static/img/blueberry.jpg" alt=""></div>
                                <div class="emotion-desc">무표정 블루베리</div>
                                </a>
                            </li>
                            <li class="emotion-card">
                                <a href="/emotion_surprise.html">
                                <div class="emotion-image"><img src="../static/img/orange.jpg" alt=""></div>
                                <div class="emotion-desc">놀란 오렌지</div>
                                </a>
                            </li>
                            <li class="emotion-card">
                                <a href="/emotion_disgust.html">
                                <div class="emotion-image"><img src="../static/img/kiwi.jpg" alt=""></div>
                                <div class="emotion-desc">까칠한 키위</div>
                                </a>
                            </li>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    
    <footer class ="inner">
        <div class="info">사진 이미지는 수집 되지 않습니다</div>
    </footer>
    <a id="backtotop"></a>
    <script src="../static/js/backtotop.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script>
        $('#loading').hide();
        $('.image-result').hide();
        function readURL(input) {
            if (input.files && input.files[0]) {
            let reader = new FileReader();
            reader.onload = function (e) {
            $('.face-upload-wrap').hide();
            $('.blah').attr('src', e.target.result);
            $('#loading').show();
            console.log(input.files[0])
            };
            reader.readAsDataURL(input.files[0]);
            init().then(function() {
                predict(); 
                $('#loading').hide();
                $('.image-result').show();
            });
            }
            }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script src="../static/js/emotion.js"></script>
</body>
</html>